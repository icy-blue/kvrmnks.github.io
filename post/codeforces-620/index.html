<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>codeforces 620 | Kvrmnks` blog</title>
<link rel="shortcut icon" href="https://kvrmnks.github.io/favicon.ico?v=1595920708271">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css" rel="stylesheet">
<link rel="stylesheet" href="https://kvrmnks.github.io/styles/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/go.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Kvrmnks` blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
    </div>
</nav>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    codeforces 620
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2020-02-16 ·
                    </time>
                    
                </div>
                <div class="post-content">
                    <p>老年人来打场div2</p>
<!--more-->
<h4 id="a">A</h4>
<h5 id="题目简介">题目简介</h5>
<p>两只兔子往中间跳,问能不能跳到一起,能输出时间</p>
<p>傻逼题</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;
int main(){
	int t;
	scanf(&quot;%d&quot;,&amp;t);
	for(int i=1;i&lt;=t;i++){
		int x,y,a,b;
		scanf(&quot;%d%d%d%d&quot;,&amp;x,&amp;y,&amp;a,&amp;b);
		y-=x;
		a+=b;
		if(y%a){
			puts(&quot;-1&quot;);
		}else{
			printf(&quot;%d\n&quot;,y/a);
		}
	} 
	
	return 0;
} 
</code></pre>
<h4 id="b">B</h4>
<h5 id="题目大意">题目大意</h5>
<p>给一些长度一样长的字符串,问最多能构造出多长的回文串</p>
<p>傻逼题*2</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;
const int MAXN = 105;
bool isRev[MAXN];
bool used[MAXN];
bool lk[MAXN][MAXN];
char str[MAXN][55];
int n,m;
int Q[MAXN],top;
bool isR(int x){
	bool flag = true;
	for(int i=1;i&lt;=m;i++){
		if(str[x][i] != str[x][m-i+1]){
			flag = false;
		}
	}
	return flag;
}
bool canlk(int x,int y){
	bool falg = true;
	for(int i=1;i&lt;=m;i++){
		if(str[x][i] != str[y][m-i+1]){
			falg = false;
			break;
		}
	}
	return falg;
}
int main(){
	scanf(&quot;%d%d&quot;,&amp;n,&amp;m);
	for(int i=1;i&lt;=n;i++){
		scanf(&quot;%s&quot;,str[i]+1);
	}
	for(int i=1;i&lt;=n;i++)
		isRev[i] = isR(i);
	for(int i=1;i&lt;=n;i++){
		for(int j=i+1;j&lt;=n;j++){
			lk[i][j] = lk[j][i] = canlk(i,j);
		}
	}
	int mxlen = 0;
	for(int i=1;i&lt;=n;i++){
		for(int j=i+1;j&lt;=n;j++){
			if(lk[i][j] &amp;&amp; used[i]==false &amp;&amp; used[j] == false){
				mxlen += 2*m;
				used[i] = used[j] = true;
			}
		}
	}
	int tmp = 0;
	memset(used,0,sizeof used);
	for(int i=1;i&lt;=n;i++){
		memset(used,0,sizeof used);
		tmp = 0;
		if(isRev[i]){
			used[i] = true;
			tmp += m;
			for(int j=1;j&lt;=n;j++){
				for(int k=j+1;k&lt;=n;k++){
					if(lk[j][k] &amp;&amp; used[j]==false &amp;&amp; used[k]==false){
						tmp += m*2;
						used[j] = used[k] = true;
					}
				}
			}
			mxlen = max(mxlen,tmp);
		}
	}
	printf(&quot;%d\n&quot;,mxlen);
	tmp = 0;
	memset(used,0,sizeof used);
	for(int i=1;i&lt;=n;i++){
		for(int j=i+1;j&lt;=n;j++){
			if(lk[i][j] &amp;&amp; used[i]==false &amp;&amp; used[j] == false){
				tmp += 2*m;
				used[i] = used[j] = true;
			}
		}
	}
	if(tmp == mxlen){
		memset(used,0,sizeof used);
		for(int i=1;i&lt;=n;i++){
			for(int j=i+1;j&lt;=n;j++){
				if(lk[i][j] &amp;&amp; used[i]==false &amp;&amp; used[j] == false){
					//tmp += 2*m;
					Q[++top] = i;
					Q[++top] = j;
					used[i] = used[j] = true;
				}
			}
		}	
		for(int i=1;i&lt;=top;i+=2){
			printf(&quot;%s&quot;,str[Q[i]]+1);
		}
		for(int i=top;i&gt;=1;i-=2){
			printf(&quot;%s&quot;,str[Q[i]]+1);
		}
		return 0;
	}
	for(int i=1;i&lt;=n;i++){
		memset(used,0,sizeof used);
		tmp = 0;
		if(isRev[i]){
			used[i] = true;
			tmp += m;
			for(int j=1;j&lt;=n;j++){
				for(int k=j+1;k&lt;=n;k++){
					if(lk[j][k] &amp;&amp; used[j]==false &amp;&amp; used[k]==false){
						tmp += m*2;
						used[j] = used[k] = true;
					}
				}
			}
			//mxlen = max(mxlen,tmp);
		}
		if(tmp == mxlen){
			memset(used,0,sizeof used);
			Q[0] = i;
			used[i] = true;
			for(int j=1;j&lt;=n;j++){
				for(int k=j+1;k&lt;=n;k++){
					if(lk[j][k] &amp;&amp; used[j]==false &amp;&amp; used[k]==false){
						//tmp += m*2;
						Q[++top] = j;
						Q[++top] = k;
						used[j] = used[k] = true;
					}
				}
			}
			for(int i=1;i&lt;=top;i+=2){
				printf(&quot;%s&quot;,str[Q[i]]+1);
			}
			printf(&quot;%s&quot;,str[Q[0]]+1);
			for(int i=top;i&gt;=1;i-=2){
				printf(&quot;%s&quot;,str[Q[i]]+1);
			}	
			return 0;		
		}
	}
	return 0;
}
</code></pre>
<h4 id="c">C</h4>
<h5 id="题目大意-2">题目大意</h5>
<p>在一个数轴上,给定起点,1s只能走一个单位长度,给n个区间,问能不能,在相应的时间属于相应的区间</p>
<p>数据范围差评,好久没打cf了,总是想找个1e7+的复杂度...</p>
<p>直接每步维护一个区间</p>
<p>xjb求交就行了</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;
typedef long long ll;
const int MAXN = 120;
ll t[MAXN],l[MAXN],r[MAXN];
int n;
ll L,R;
void solve(){
	scanf(&quot;%d%lld&quot;,&amp;n,&amp;L);
	R = L;
	for(int i=1;i&lt;=n;i++){
		scanf(&quot;%lld%lld%lld&quot;,&amp;t[i],&amp;l[i],&amp;r[i]);
	}
	for(int i=1;i&lt;=n;i++){
		L -= t[i] - t[i-1];
		R += t[i] - t[i-1];
		if(L&gt;r[i] || R &lt; l[i]){
			puts(&quot;NO&quot;);
			return;
		}else{
			L = max(L,l[i]);
			R = min(R,r[i]);
		}
	}
	puts(&quot;YES&quot;);
}
int main(){
	int Q;
	scanf(&quot;%d&quot;,&amp;Q);
	while(Q--){
		solve();
	}
	return 0;
} 
</code></pre>
<h4 id="d">D</h4>
<h5 id="题目大意-3">题目大意</h5>
<p>给一个大于小于号的序列,构造两个数列,每个数&gt;=1,&lt;=n,要求一个LIS最大,一个LIS最小</p>
<p>heheda,比赛的时候看错题了</p>
<p>考虑求LIS的nlogn做法,实际上我们只需要在二分的那一步改成贪心,用贪心维护那个上升数列就好了</p>
<p>构造的时候我是先把数分层,然后每层构造,有些小细节见代码</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;
const int MAXN = 200050;
int Q,n;
char str[MAXN];
int type[MAXN],raw[MAXN];
vector&lt;int&gt; V[MAXN];
int Min;
void cons(int x,int pre){
	if(raw[x]!=0)return;
	
	if(x+1 &lt;= n &amp;&amp; type[x+1] == type[x] &amp;&amp; pre != x+1 &amp;&amp; str[x] == '&gt;'){
		cons(x+1,x);
		raw[x] = raw[x+1] + 1;
	}
	if(x-1 &gt;= 1 &amp;&amp; type[x-1] == type[x] &amp;&amp; pre != x-1 &amp;&amp; str[x-1] == '&lt;'){
		cons(x-1,x);
		raw[x] = raw[x-1] + 1;
	}
	raw[x] = Min + 1;
	Min ++;
}
void Cons(int x,int pre){
	if(raw[x]!=0)return;
	if(x-1 &gt;= 1 &amp;&amp; type[x-1] == type[x] &amp;&amp; pre != x-1 &amp;&amp; str[x-1] == '&lt;'){
		cons(x-1,x);
		raw[x] = raw[x-1] + 1;
	}	
	if(x+1 &lt;= n &amp;&amp; type[x+1] == type[x] &amp;&amp; pre != x+1 &amp;&amp; str[x] == '&gt;'){
		cons(x+1,x);
		raw[x] = raw[x+1] + 1;
	}

	raw[x] = Min + 1;
	Min ++;
}
void solve(){
	scanf(&quot;%d&quot;,&amp;n);
	scanf(&quot;%s&quot;,str+1);
	int lastpos = 1;
	int mx = 1;
	type[1] = 1;

	for(int i=1;i&lt;n;i++){
		if(str[i] == '&gt;'){
			lastpos = 1;
			type[i+1] = 1;
		}else{
			lastpos++;
			mx = max(mx,lastpos);
			type[i+1] = lastpos;
		}
	}
	for(int i=1;i&lt;=n;i++){
		V[type[i]].push_back(i);
	}
	Min = 0;
	for(int i=1;i&lt;=n;i++){
		for(int j=(int)V[i].size()-1;j&gt;=0;j--){
			cons(V[i][j],V[i][j]);
		}
	}
	for(int i=1;i&lt;=n;i++){
		printf(&quot;%d &quot;,raw[i]);
	}
	puts(&quot;&quot;);		
	
		
	
	for(int i=1;i&lt;=n;i++)
		V[i] = vector&lt;int&gt;();
	for(int i=1;i&lt;=n;i++)
		raw[i] = 0;
		
	lastpos = 1;
	mx = 1;
	type[1] = 1;
	
	for(int i=1;i&lt;n;i++){
		if(str[i] == '&gt;'){
			lastpos = 1;
			type[i+1] = 1;
		}else{
			++mx;
			lastpos = mx;
			type[i+1] = lastpos;
		}
	}
	for(int i=1;i&lt;=n;i++){
		V[type[i]].push_back(i);
	}
	Min = 0;
	for(int i=1;i&lt;=n;i++){
		for(int j=0;j&lt;(int)V[i].size();j++){
			Cons(V[i][j],V[i][j]);
		}
	}
	for(int i=1;i&lt;=n;i++){
		printf(&quot;%d &quot;,raw[i]);
	}
	puts(&quot;&quot;);
	
	
	for(int i=1;i&lt;=n;i++)
		V[i] = vector&lt;int&gt;();
	for(int i=1;i&lt;=n;i++)
		raw[i] = 0;
}
int main(){
	scanf(&quot;%d&quot;,&amp;Q);
	while(Q--){
		solve();
	}
	return 0;
}
</code></pre>
<p>其实原题不需要构造的答案是个排列</p>
<p><s>我只是不会写不是排列的做法</s></p>
<h4 id="e">E</h4>
<h5 id="题目大意-4">题目大意</h5>
<p>给一棵树,每次询问加一条边(x,y),询问是否有从a到b有长度等于k的可重边路径,该次询问完删掉(x,y)边</p>
<p>一共就3种可能</p>
<p>1.a -&gt; b</p>
<p>2.a -&gt; x -&gt; y -&gt; b</p>
<p>3.a -&gt; y -&gt; x -&gt; b</p>
<p>然后只要满足小于k且奇偶性一样就行</p>
<p>好久没写树链剖分了,写得头疼...</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;
const int MAXN = 200050;
int sz[MAXN],top[MAXN],dep[MAXN],to[MAXN],nx[MAXN],h[MAXN],tot;
int ch[MAXN],fa[MAXN];
int n;
void add_edge(int x,int y){
	to[++tot] = y;
	nx[tot] = h[x];
	h[x] = tot;
}
void link(int x,int y){
	add_edge(x,y);
	add_edge(y,x);
}
void dfs1(int x,int y){
	sz[x] = 1;
	fa[x] = y;
	dep[x] = dep[y] + 1;
	for(int i=h[x];i;i=nx[i]){
		if(to[i] == y)
			continue;
		dfs1(to[i],x);
		sz[x] += sz[to[i]];
		if(sz[to[i]] &gt; sz[ch[x]])
			ch[x] = to[i];
	}
}
int lca(int x,int y){
	while(top[x]!=top[y]){
		dep[top[x]] &gt; dep[top[y]] ? x = fa[top[x]] : y = fa[top[y]];
	}
	return dep[x]&lt;dep[y]?x:y;
}
int dis(int x,int y){
	return dep[x] + dep[y] - 2 * dep[lca(x,y)];
}
void dfs2(int x,int tp){
	top[x] = tp;
	if(ch[x])dfs2(ch[x],tp);
	for(int i=h[x];i;i=nx[i]){
		if(to[i] == fa[x] || to[i] == ch[x])
			continue;
		dfs2(to[i],to[i]);
	}
}
int main(){
	scanf(&quot;%d&quot;,&amp;n);
	for(int i=1;i&lt;n;i++){
		int x,y;
		scanf(&quot;%d%d&quot;,&amp;x,&amp;y);
		link(x,y);
	}
	dfs1(1,0);
	dfs2(1,1);
	int Q,x,y,a,b,k;
	scanf(&quot;%d&quot;,&amp;Q);
	while(Q--){
		scanf(&quot;%d%d%d%d%d&quot;,&amp;a,&amp;b,&amp;x,&amp;y,&amp;k);
	//	cout&lt;&lt;lca(x,y)&lt;&lt;endl;
		int tmp = dis(x,y);
		if(tmp &lt;= k &amp;&amp; ((k-tmp)%2==0)){puts(&quot;YES&quot;);continue;}
		tmp = dis(x,a)+dis(y,b)+1;
		if(tmp &lt;= k &amp;&amp; ((k-tmp)%2==0)){puts(&quot;YES&quot;);continue;}
		tmp = dis(x,b) + dis(y,a) + 1;
		if(tmp &lt;= k &amp;&amp; ((k-tmp)%2==0)){puts(&quot;YES&quot;);continue;}
		puts(&quot;NO&quot;);
	}
	return 0;
} 
</code></pre>
<h4 id="f">F</h4>
<h5 id="简单口胡">简单口胡</h5>
<p>老年人不想写线段树了...</p>
<p>咕咕咕</p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://kvrmnks.github.io/post/yi-qi-lai-da-discuz-he-wordpress-ba/" class="post-title gt-a-link">
                    一起来搭Discuz和wordpress吧
                </a>
            </div>
        

        
		
		

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">power overwhelming</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://kvrmnks.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
    hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
